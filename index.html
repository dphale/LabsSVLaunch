<!doctype html>
<html>
  <head>
    <title>TNS Labs - SV Launch Event</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
  </head>

  <body>

    <!-- // [START headline] -->
    <div id="headline">
      <div class="container">
        <header>
          <h1>TNS Labs</h1>
          <h2>SF Launch Event</h2>
        <p></p>
        </header>
        <div id="blurb">
          <p>TNS Labs will identify, test, and implement technology to scale impact in the fight against poverty, leveraging TechnoServe's on-the-ground experience and strategic market-based approach</p>
        </div>
        <form method="post" id="register">
           <h2>Join us for some fun</h2>
           <p>Answer some trivia questions about TechnoServe's work, and we will have a gift for you when you leave!</p>
           <input type="text" name="ID" placeholder="namecard ID" class="submit" required>
           <input type="submit" value="Check in" class="submit">
           <p></p>
        </form>
        <br>
      </div>
    </div>
    <!-- // [END headline] -->

    <!-- // [START questions] -->
    <div class="section">
      <div class="container">
        <header>
          <h2>Our Impact</h2>
          <p>Look around the room for examples of TechnoServe's work. Then see if you can answer the trivia questions below.</p>
        </header>
      </div>
    </div>

    <div class="section">
      <div class="container">
        <div class="images">
          <img id="image">
        </div>
        <div class=triviaAnswer>
          <p id="q1"></p>
          <button type="button" class="button" onclick="checkAnswer('a')" id="a1">
          <button type="button" class="button" onclick="checkAnswer('b')" id="a2">
          <button type="button" class="button" onclick="checkAnswer('c')" id="a3">
          <p id="userPrompt"></p>
        </div>
      </div>
      <br>
    </div>
    <!-- // [END questions] -->


    <!-- // [START footer] -->
    <footer>
      <div class="container">
        <p>add a footer later with launch date, location</p>
      </div>
    </footer>
    <!-- // [END footer] -->

  </body>
</html>

<!-- external js file with questions in "triviaQuestion array variable" -->
<script type="text/javascript" src="triviaQuestions.js"></script>

<script>

  var answer, userResponse, choice, correct;
  let questionNum = 0;
  let numArray = [];
  let maxQuestions = 3;

  getQuestionNums();            // get random numbers for questions
  let currentQuestion = numArray[questionNum]
  let correctAnswer = triviaQuestions[currentQuestion].correctAnswer;

  renderQuestion(questionNum);       // push questions to page


  // get three random numbers out of a total of 10
  function getQuestionNums() {
    for (i = 0; i < maxQuestions; i++) {
      let rndmNum = Math.floor(Math.random()*10);
      while (numArray.includes(rndmNum)) {
        rndmNum = Math.floor(Math.random()*10);
      };
      numArray[i]=rndmNum;
    };
    return numArray;
  };

  // display image, question, options; set correct answer for question
  function renderQuestion(currentQuestion) {
      document.getElementById("image").src=triviaQuestions[currentQuestion].image;
      document.getElementById("image").alt=triviaQuestions[currentQuestion].imageName;
      document.getElementById("q1").innerHTML=triviaQuestions[currentQuestion].question;
      document.getElementById("a1").innerHTML=triviaQuestions[currentQuestion].answer[0];
      document.getElementById("a2").innerHTML=triviaQuestions[currentQuestion].answer[1];
      document.getElementById("a3").innerHTML=triviaQuestions[currentQuestion].answer[2];

  };

  function checkAnswer(userResponse) {
    if (userResponse==correctAnswer) {
      console.log(correctAnswer)
      document.getElementById("userPrompt").innerHTML="CORRECT" //display some nice text here replacing the buttons
      // click to get your next question
      console.log(questionNum)
      if (questionNum < maxQuestions) {
        questionNum++
        renderQuestion(questionNum)
      } else {
          document.getElementById("userPrompt").innerHTML="FINISHED"
          //NEED TO EXIT HERE
      }
    } else {
        document.getElementById("userPrompt").innerHTML="TRY AGAIN PLEASE"
    }
  }

// display success message

// record success to blockchain

  </script>
